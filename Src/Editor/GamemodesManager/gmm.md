# Концепт

Менеджер режимов позволяет создавать и изменять скриптовые режимы

## Создание режима

Создание режима через инструменты.
Помимо стандартных свойств типа названия можно указать свойства, помеченные атрибутами для режима:
`GMField` [type:string, type:int, type:float, type:bool, selectof:function, listof:function, typeof:function, classlistof:function]
	string - строка
	int - число целое
	float - дробное число
	bool - чекбокс
	selectof - выбор из списка. функция генерирует список элементов
	listof - Добавление текста в лист (кнопки:добавить из текста, удалить выбранный, очистить)
	typeof - перетаскивание элемента на виджет. function проводит валидацию значений
	classlistof - как listof но только кнопка удаления. можно перетаскивать классы на объект. function проводит валидацию значений

Созданный режим компилируется в класс. 
Загрузка класса в рантайме.

## Изменение режима

1. находим нужный класс по имени
2. построчно читаем поля. нашли нужное поле - удалил от начала до точки с запятой
3. помещаем новое значение (лучше через реплейс со вторым пунктом)

## Создание роли

Нужен генератор шаблонов в котором указать названия, класс роли. остальное править руками.

## скриптинг
Мы можем писать кастомную логику.
Нужно более детально задокументировать всё связанное со скриптингом для режимов и добавить ещё примеры
Рассмотреть вариант скриптовых файлов аля юнити с точками входа, циклом обновления и тд.
