# Тюремный режим

## Описание

Шестое Колено. Разгар войны НА и Истязателей.

Наравне с Лагерем "Оплот", как основным исправительным учреждением для заключённых, военнопленных и рабов, имеются также и исправительные зоны в отдалённых участках НА. Одна из таких находится близко к фронту, занимается производством припасов.

Сюда отправляют кого угодно: От пещерных вырожденцев, до граждан НА, обвинённых в каком-либо преступлении. Тут также возникают военнопленные из армии Истязателей.

Раунд повествует о жизни на тюремном объекте. Очередная смена может стать последней.

## Основные роли

- **Начальник** - Управляющий объектом. Имеет себе в подчинении нескольких надзирателей.

- **Врач** - Высланный сюда в качестве ссылки за свои неэтичные эксперименты и взгляды, которые испугали даже изуверов из научной коллегии НА. Тут у него есть полно субъектов для собственных экспериментов и опытов, но и про свою основную обязанность (лечение) он забывать не должен.

- **Надзиратель** - Охранник тюрьмы, следящий за порядком и контролем. Беспрекословно подчиняется Начальнику.

- **Зеки** - Основной расходный материал Тюрьмы. Они занимаются 90% всех задач: работа, уборка, готовка, перенос и прочее — всё на их плечах.

## Дополнительные роли

- **Новоприбывший зек** - В начале раунда все зеки — бывалые. Этот ТОЛЬКО что попал на зону. Придётся осваиваться.

- **Бугор** - Лояльный тюремному положняку зек, достигший возможность помыкать над другими зеками взамен отчётности Начальнику и исполнению его приказов.

- **Отряд Смерти** - Прибывают, когда Начальник не справился со своими задачами или подверг тюрьму бунту. Уничтожают всё что видят, в живых свидетелей не оставляют.

## Антагонисты

- Монстры
- Агенты Истязателей/Свободных Поселений
- В принципе, игроки способны самостоятельно подвергнуть тюрьму хаосу. Один из игроков может устроить бунт, другой — стать крысой и служить Начальству, третий — быть скрытым маньяком. На начало, вкупе с высоким ролевым отыгрышем нынешней аудитории можно не реализовывать эти моменты игромеханически т.к. Тюрьма должна быть полной песочницей в этом плане.

## Схема тюрьмы

По хорошему, тюрьма должна состоять из следующего минимума:

- Общие камеры для заключенных
- Карцер для неисправимых и особо злостных
- Столовая
- Завод/фабрика/рабочая мастерская
- Палаты для оказания помощи вместе с маленькой лабораторией+моргом
- Оружейная и бараки для охраны + Кабинет начальника
- Вокзал, где спавнятся новые игроки
- Скрытые проходы, тайные ходы, выходы (СЛИШКОМ ИДЕАЛЬНО)

Сама карта готова, но её нужно немного подпилить, чтобы избавиться от лишнего хлама и мусора.

## Механики и фичи

С ними можно ознакомиться в коде, но кратко (то что реализовано):

- У зеков вместо имён и фамилий — идентификационные номера
- У каждого зека ВОСПОМИНАНИЕ о том, ЗА ЧТО он тут и ЧТО он сделал. Сделано это в виде подобия документа, в котором написано, за что он тут сидит (Вроде сделать это через описание персонажа на осмотре нельзя/слишком сложно, так что есть что есть)
- У начальника, надзирателя и врача вместо имён обращения, основанные на их профессиях, т.е. "Доктор Васильев" или "Надзиратель Шпала"

### Нереализованные механики

- **Станки** - Должны были быть простым скриптом на уровне "тыкаешь вещью + получаешь что-то, а вещь исчезает из твоей руки". Но не осилил из-за lack of time.

- **Пыточный стул и активатор пыточного стула** - Должно было быть два скриптовых объекта: Активатор и стол для пыток. Один при активации вызывает у второго слабый удар электрическим током (Наносит урон сидящему на стуле игроку). Ещё можно было реализовать таким образом электрический стул для казни. Опять же, не доделал.

## Файлы и ресурсы режима

### Карта

- `Src/host/MapManager/Maps/NewArmyMiniJailV3.sqf` - основной файл карты тюрьмы
- `Src/Editor/Bin/Maps/NewArmyMiniJailV3.cpp` - конфигурация карты для редактора

### Музыка

Треки для тюремного режима находятся в:
- `Resources/music/prisonambient/` - 16 треков атмосферной музыки:
  - A_Wavering_Radiance.ogg
  - Archives_II.ogg
  - Damnation.ogg
  - House_of_Teeth.ogg
  - Infernal_Wake.ogg
  - It_Comes_in_Whispers_Pt_2.ogg
  - Last_Lullaby.ogg
  - Life.ogg
  - Old_Quarter.ogg
  - Propaganda.ogg
  - Schockwelle_Krisis.ogg
  - Stahlmessias_II.ogg
  - Still_Dreaming.ogg
  - The_Darkness_Which_Ascends_With_Me.ogg
  - Zombie_15.ogg

- `Resources/music/lobby/Regime.ogg` - музыка для лобби режима

- `musicdef.cpp` - конфигурация музыкальных треков (rm_42 - rm_114)

### Освещение

Конфигурации освещения для тюремного режима:
- `Src/client/LightEngine/ScriptedConfigs/SLIGHT_PRISON_LAMP_MAIN.sqf` - основное освещение тюрьмы
- `Src/client/LightEngine/ScriptedConfigs/SLIGHT_PRISON_LAMP_GREEN.sqf` - зелёное освещение
- `Src/client/LightEngine/ScriptedConfigs/SLIGHT_LAMP_REDLIGHT_ALARM.sqf` - красное освещение тревоги
- `Src/client/LightEngine/ScriptedConfigs/SLIGHT_LAMP_KINKY_VIBE.sqf` - дополнительное атмосферное освещение

### UI

- `Resources/ui/lobby/newarmyprison.paa` - изображение для лобби тюремного режима

## Статус разработки

Карта готова на **90%** - требуется небольшая полировка.

Режим готов на **50%** - готовы основные спавны и роли, но также требует полировки и добавления игровых механик.
